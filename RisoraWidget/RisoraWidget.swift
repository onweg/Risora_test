//
//  RisoraWidget.swift
//  RisoraWidget
//
//  Created by Arkadiy on 24.01.2026.
//

import WidgetKit
import SwiftUI

// –î–∞–Ω–Ω—ã–µ —Ü–µ–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ App Group –¥–ª—è –≤–∏–¥–∂–µ—Ç–∞
struct WidgetGoalData: Codable {
    let goalId: String
    let title: String
    let motivation: String
    let habitNames: [String]
    let lastUpdateDate: Date
}

// –ú–∞—Å—Å–∏–≤ —Ü–∏—Ç–∞—Ç –¥–ª—è –≤–∏–¥–∂–µ—Ç–∞
struct WidgetQuotes {
    static let quotes: [String] = [
        "–ë–æ–ª—å –º–æ–∂–µ—Ç —Å–¥–µ–ª–∞—Ç—å —Ç–µ–±—è —Å–∏–ª—å–Ω–µ–µ, –∞ –º–æ–∂–µ—Ç —Å–∂–µ—á—å –¥–æ—Ç–ª–∞, –≤—ã–±–æ—Ä –æ—Å—Ç–∞–µ—Ç—Å—è –∑–∞ –≤–∞–º–∏.",
        "–í–∞—à –ø—É—Ç—å –≤—Å–µ–≥–¥–∞ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –≤–∞—à–∏–º –ø—É—Ç–µ–º, –≤—ã –º–æ–∂–µ—Ç–µ –≤–∑—è—Ç—å –¥—Ä—É–≥–∏—Ö –ª—é–¥–µ–π —Å —Å–æ–±–æ–π, –Ω–æ –Ω–µ –º–æ–∂–µ—Ç–µ —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã –∫—Ç–æ-—Ç–æ –¥—Ä—É–≥–æ–π –ø—Ä–æ—à–µ–ª —ç—Ç–æ—Ç –ø—É—Ç—å –∑–∞ –≤–∞—Å.",
        "–í—ã –º–æ–∂–µ—Ç–µ —É–ø–∞—Å—Ç—å, –Ω–æ –Ω–∏–∫—Ç–æ –Ω–µ —Å–º–æ–∂–µ—Ç –≤–∞–º –ø–æ–º–µ—à–∞—Ç—å –ø–æ–¥–Ω—è—Ç—å—Å—è —Å–Ω–æ–≤–∞ –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å–≤–æ–π –ø—É—Ç—å.",
        "–î–≤–∏–∂–µ–Ω–∏–µ –∫ –≤–∞—à–µ–π —Ü–µ–ª–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ–ª–≥–∏–º –∏ —É—Ç–æ–º–∏—Ç–µ–ª—å–Ω—ã–º, –Ω–æ –≤–∞–∂–Ω–µ–µ –≤—Å–µ–≥–æ —Ç–æ, —á—Ç–æ –≤—ã –¥–≤–∏–∂–µ—Ç–µ—Å—å –≤ –µ—ë —Å—Ç–æ—Ä–æ–Ω—É.",
        "–í–æ–∑—Ä–∞—Å—Ç —Å–æ–∑–¥–∞–µ—Ç –º–æ—Ä—â–∏–Ω—ã –Ω–∞ —Ç–µ–ª–µ, –∞ –æ—Ç–∫–∞–∑ –æ—Ç –º–µ—á—Ç—ã —Å–æ–∑–¥–∞–µ—Ç –º–æ—Ä—â–∏–Ω—ã –≤ –¥—É—à–µ.",
        "–°–ª–µ–¥–∏—Ç–µ –∑–∞ —Å–≤–æ–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, –∏—Ö –Ω–µ –≤–æ–∑—å–º–µ—à—å –æ–±—Ä–∞—Ç–Ω–æ, –æ–Ω–∏ –º–æ–≥—É—Ç —Ä–∞–Ω–∏—Ç—å –±–æ–ª—å–Ω–æ, –∞ –∏–∑–≤–∏–Ω–µ–Ω–∏–π –º–æ–∂–µ—Ç –Ω–µ —Ö–≤–∞—Ç–∏—Ç—å –Ω–∞ –∏—Å—Ü–µ–ª–µ–Ω–∏–µ.",
        "–ò—Å—Ç–∏–Ω–Ω–∞—è –ª—é–±–æ–≤—å –º–æ–∂–µ—Ç –≤—ã—Ä–∞—Å—Ç–∏ —Ç–æ–ª—å–∫–æ –Ω–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ —Å–≤–æ–±–æ–¥—ã –∏ —É–º–µ–Ω–∏–∏ –ø—Ä–æ—â–∞—Ç—å.",
        "–ó—Ä–µ–ª–æ—Å—Ç—å –Ω–∞—Å—Ç—É–ø–∞–µ—Ç –Ω–µ —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ –º—ã –Ω–∞—á–∏–Ω–∞–µ–º –≥–æ–≤–æ—Ä–∏—Ç—å –æ –±–æ–ª—å—à–∏—Ö –≤–µ—â–∞—Ö, –Ω–æ —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ –º—ã –Ω–∞—á–∏–Ω–∞–µ–º –ø–æ–Ω–∏–º–∞—Ç—å –º–µ–ª–æ—á–∏.",
        "–ï—Å–ª–∏ –∫—Ç–æ-—Ç–æ –Ω–µ –º–æ–∂–µ—Ç –ø—Ä–∏–Ω—è—Ç—å –≤–∞—à–∏—Ö —Ö—É–¥—à–∏—Ö —Å—Ç–æ—Ä–æ–Ω, –æ–Ω –Ω–µ –∑–∞—Å–ª—É–∂–∏–≤–∞–µ—Ç –≤–∞—à–∏—Ö –ª—É—á—à–∏—Ö.",
        "–ñ–∏–≤–∏—Ç–µ —Ç–∞–∫, –∫–∞–∫ –µ—Å–ª–∏ –±—ã –∫—Ç–æ-—Ç–æ –≥–æ–≤–æ—Ä–∏–ª –æ –≤–∞—Å –ø–ª–æ—Ö–æ, –Ω–æ –Ω–∏–∫—Ç–æ –Ω–µ –º–æ–≥ –±—ã –≤ —ç—Ç–æ –ø–æ–≤–µ—Ä–∏—Ç—å.",
        "–ù–µ –≤–µ—à–∞–π—Ç–µ —è—Ä–ª—ã–∫–∏ –Ω–∞ –¥—Ä—É–≥–∏—Ö –ª—é–¥–µ–π. –û–Ω–∏ –º–æ–≥—É—Ç –∫–∞–∑–∞—Ç—å—Å—è –Ω–µ —Ç–µ–º–∏, –∫—Ç–æ –æ–Ω–∏ –µ—Å—Ç—å –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ.",
        "–ù–µ –ø–æ–∑–≤–æ–ª—è–π—Ç–µ —Ç–æ–º—É, —á—Ç–æ –Ω–µ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è, –ø—Ä–∏–≤–µ—Å—Ç–∏ –≤–∞—Å –∫ –ø–æ—Ç–µ—Ä–µ —Ç–æ–≥–æ, —á—Ç–æ –≤–∞–∂–Ω–æ.",
        "–¢–æ—Ç, –∫—Ç–æ –∂–∞–ª—É–µ—Ç—Å—è –Ω–∞ –≤—Å—ë –≤–æ–∫—Ä—É–≥ –∏ –Ω–∏—á–µ–≥–æ –Ω–µ —Ü–µ–Ω–∏—Ç, –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–∞–º—ã–º –æ–ø–∞—Å–Ω—ã–º –≤—Ä–∞–≥–æ–º –≤–∞—à–µ–≥–æ —É—Å–ø–µ—Ö–∞.",
        "–ù–µ –±–æ–π—Ç–µ—Å—å –∏–¥—Ç–∏ –º–µ–¥–ª–µ–Ω–Ω–æ, –±–æ–π—Ç–µ—Å—å —Å—Ç–æ—è—Ç—å –Ω–∞ –º–µ—Å—Ç–µ ‚Äì —ç—Ç–æ —Ö—É–¥—à–µ–µ, —á—Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ –¥–ª—è —Å–µ–±—è —Å–¥–µ–ª–∞—Ç—å.",
        "–ì–æ–≤–æ—Ä–∏—Ç–µ –ø—Ä–∞–≤–¥—É. –û–Ω–∞ –∫–∞–∫ –±—É–º–µ—Ä–∞–Ω–≥ –∏, –ø–æ–¥–æ–±–Ω–æ –ª–∂–∏, —Å–ø–æ—Å–æ–±–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è.",
        "–õ—é–¥–∏ —Ä–µ–¥–∫–æ –∑–∞–º–µ—á–∞—é—Ç, –∫–æ–≥–¥–∞ –¥–ª—è –Ω–∏—Ö —á—Ç–æ-—Ç–æ –¥–µ–ª–∞—é—Ç; –æ–Ω–∏ –∑–∞–º–µ—á–∞—é—Ç —ç—Ç–æ, –∫–æ–≥–¥–∞ –¥–ª—è –Ω–∏—Ö –ø–µ—Ä–µ—Å—Ç–∞—é—Ç —ç—Ç–æ –¥–µ–ª–∞—Ç—å.",
        "–î–µ–≤—è–Ω–æ—Å—Ç–æ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ –Ω–∞—à–∏—Ö –∑–∞–±–æ—Ç –∫–∞—Å–∞—é—Ç—Å—è —Ç–æ–≥–æ, —á—Ç–æ –Ω–µ —Å–ª—É—á–∏—Ç—Å—è.",
        "–£—Å–ø–µ—Ö ‚Äì —ç—Ç–æ —É–º–µ–Ω–∏–µ –¥–≤–∏–≥–∞—Ç—å—Å—è –æ—Ç –Ω–µ—É–¥–∞—á–∏ –∫ –Ω–µ—É–¥–∞—á–µ, –Ω–µ —Ç–µ—Ä—è—è —ç–Ω—Ç—É–∑–∏–∞–∑–º–∞.",
        "–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤—ã–±–æ—Ä –º–µ–∂–¥—É –¥–≤—É–º—è –ª—é–¥—å–º–∏, —Ç–æ –≤—ã–±–∏—Ä–∞–π—Ç–µ –≤—Ç–æ—Ä–æ–≥–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ –µ—Å–ª–∏ –±—ã –≤—ã –ø–æ-–Ω–∞—Å—Ç–æ—è—â–µ–º—É –ª—é–±–∏–ª–∏ –ø–µ—Ä–≤–æ–≥–æ, —Ç–æ –≤—Ç–æ—Ä–æ–π –±—ã –∏ –Ω–µ –ø–æ—è–≤–∏–ª—Å—è.",
        "–ß—Ç–æ–±—ã –Ω–∞–π—Ç–∏ –Ω–æ–≤—ã–π –ø—É—Ç—å, –Ω—É–∂–Ω–æ —É–π—Ç–∏ —Å–æ —Å—Ç–∞—Ä–æ–π –¥–æ—Ä–æ–≥–∏.",
        "–¢–æ–ª—å–∫–æ –¥–µ–π—Å—Ç–≤–∏—è —á–µ–ª–æ–≤–µ–∫–∞ –≥–æ–≤–æ—Ä—è—Ç –æ –µ–≥–æ –ª–∏—á–Ω–æ—Å—Ç–∏ –∏ –µ–≥–æ –æ—Ç–Ω–æ—à–µ–Ω–∏–∏ –∫ –≤–∞–º.",
        "–ù–µ –≤–µ—Ä—å—Ç–µ —Å–ª–æ–≤–∞–º, –ø—Ä–æ—Å—Ç–æ –Ω–∞–±–ª—é–¥–∞–π—Ç–µ ‚Äì –∏ –≤—ã —É–≤–∏–¥–∏—Ç–µ –∏—Å—Ç–∏–Ω—É.",
        "–ü—Ä–∞–≤–∏–ª–æ, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –Ω—É–∂–Ω–æ –∂–∏—Ç—å ‚Äì –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è —á–µ–ª–æ–≤–µ–∫–æ–º –≤ –ª—é–±—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö.",
        "–ú—ã –¥—É–º–∞–µ–º, —á—Ç–æ –ë–æ–≥ –≤–∏–¥–∏—Ç –Ω–∞—Å —Å–≤–µ—Ä—Ö—É, –Ω–æ –æ–Ω –≤–∏–¥–∏—Ç –Ω–∞—Å –∏–∑–Ω—É—Ç—Ä–∏.",
        "–ï—Å–ª–∏ –≤—ã –Ω–∞–π–¥–µ—Ç–µ —á–µ–ª–æ–≤–µ–∫–∞, —Å –∫–æ—Ç–æ—Ä—ã–º —Å–º–æ–∂–µ—Ç–µ —Å–µ–±—è –≤–µ—Å—Ç–∏ —Ç–∞–∫ –∂–µ —Å–≤–æ–±–æ–¥–Ω–æ, –∫–∞–∫ –≤–µ–¥–µ—Ç–µ —Å–µ–±—è –Ω–∞–µ–¥–∏–Ω–µ —Å —Å–æ–±–æ–π, —Ç–æ —Ü–µ–Ω–∏—Ç–µ –µ–≥–æ, –∫–∞–∫ –≤–æ–∑–¥—É—Ö.",
        "–°–∏–ª—å–Ω—ã–π —á–µ–ª–æ–≤–µ–∫ ‚Äì —ç—Ç–æ –Ω–µ —Ç–æ—Ç, –∫—Ç–æ –ø–æ–±–µ–∂–¥–∞–µ—Ç —Å–ª–∞–±–æ–≥–æ, –∞ —Ç–æ—Ç, –∫—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç —Å–ª–∞–±–æ–º—É —Å—Ç–∞—Ç—å —Å–∏–ª—å–Ω—ã–º.",
        "–°–ª—É—á–∞–π–Ω–æ—Å—Ç–µ–π –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç. –í—Å—ë –Ω–∞ —ç—Ç–æ–º —Å–≤–µ—Ç–µ –ª–∏–±–æ –∏—Å–ø—ã—Ç–∞–Ω–∏–µ, –ª–∏–±–æ –Ω–∞–∫–∞–∑–∞–Ω–∏–µ, –ª–∏–±–æ –Ω–∞–≥—Ä–∞–¥–∞.",
        "–ñ–∏–∑–Ω—å ‚Äì –Ω–µ —Ç–µ –¥–Ω–∏, —á—Ç–æ –ø—Ä–æ—à–ª–∏, –∞ —Ç–µ, —á—Ç–æ –æ—Å—Ç–∞–ª–∏—Å—å.",
        "–¢–∞–º, –≥–¥–µ –Ω–∞—Å –∂–¥—É—Ç, –º—ã –≤—Å–µ–≥–¥–∞ –æ–∫–∞–∑—ã–≤–∞–µ–º—Å—è —Ç–æ—á–Ω–æ –≤ —Å—Ä–æ–∫.",
        "–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∏–º–µ—Ç—å —É—Å–ø–µ—Ö, –≤—ã –¥–æ–ª–∂–Ω—ã –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫, –∫–∞–∫ –±—É–¥—Ç–æ –≤—ã –µ–≥–æ –∏–º–µ–µ—Ç–µ.",
        "–¢–µ, –∫—Ç–æ —á–∏—Ç–∞–µ—Ç –∫–Ω–∏–≥–∏, –≤—Å–µ–≥–¥–∞ –±—É–¥—É—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç–µ–º–∏, –∫—Ç–æ —Å–º–æ—Ç—Ä–∏—Ç —Ç–µ–ª–µ–≤–∏–∑–æ—Ä.",
        "–ö–æ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–µ—à—å –ø–∞–ª—å—Ü–µ–º –Ω–∞ –¥—Ä—É–≥–∏—Ö, –ø–æ—Å–º–æ—Ç—Ä–∏, —á—Ç–æ —Ç—Ä–∏ –¥—Ä—É–≥–∏—Ö –ø–∞–ª—å—Ü–∞ —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ —Ç–µ–±—è —Å–∞–º–æ–≥–æ.",
        "–°–∞–º—ã–π —Å—Ç—Ä–∞—à–Ω—ã–π –≤—Ä–∞–≥ ‚Äì —Å–æ–º–Ω–µ–Ω–∏–µ. –ò–∑-–∑–∞ –Ω–µ–≥–æ –º—ã —Ç–µ—Ä—è–µ–º —Ç–æ, —á—Ç–æ –º–æ–≥–ª–∏ –±—ã –ø–æ–ª—É—á–∏—Ç—å, –Ω–æ –¥–∞–∂–µ –Ω–µ –ø–æ–ø—Ä–æ–±–æ–≤–∞–ª–∏.",
        "–ù–µ –æ–±–∏–∂–∞–π—Ç–µ—Å—å –Ω–∞ —Å–ª–æ–≤–∞, –∫–æ–≥–¥–∞ –Ω–µ –≤–∏–¥–∏—Ç–µ –≥–ª–∞–∑.",
        "–†–µ—Ü–µ–ø—Ç —É—Å–ø–µ—Ö–∞: —É—á–∏—Ç–µ—Å—å, –ø–æ–∫–∞ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–ø—è—Ç, —Ä–∞–±–æ—Ç–∞–π—Ç–µ, –ø–æ–∫–∞ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –±–æ–ª—Ç–∞—é—Ç—Å—è –±–µ–∑ –¥–µ–ª–∞, –≥–æ—Ç–æ–≤—å—Ç–µ—Å—å, –ø–æ–∫–∞ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∏–≥—Ä–∞—é—Ç, –º–µ—á—Ç–∞–π—Ç–µ, –ø–æ–∫–∞ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ç–æ–ª—å–∫–æ –∂–µ–ª–∞—é—Ç.",
        "–ò–Ω–æ–≥–¥–∞ –æ–¥–Ω–æ –ø—Ä–∏–∫–æ—Å–Ω–æ–≤–µ–Ω–∏–µ –º–æ–∂–µ—Ç –Ω–∞—Ç–≤–æ—Ä–∏—Ç—å –≥–æ—Ä–∞–∑–¥–æ –±–æ–ª—å—à–µ, —á–µ–º —Ç—ã –¥—É–º–∞–µ—à—å.",
        "–ß–µ—Ä–µ–∑ 20 –ª–µ—Ç –≤—ã –±—É–¥–µ—Ç–µ –±–æ–ª–µ–µ —Å–æ–∂–∞–ª–µ—Ç—å –æ —Ç–æ–º, —á–µ–≥–æ –Ω–µ —Å–¥–µ–ª–∞–ª–∏, —á–µ–º –æ —Ç–æ–º, —á—Ç–æ –≤—ã —Å–¥–µ–ª–∞–ª–∏.",
        "–ï—Å–ª–∏ —á–µ–ª–æ–≤–µ–∫ –∏—â–µ—Ç —Å–º—ã—Å–ª –∂–∏–∑–Ω–∏, —Ç–æ –æ–Ω –Ω–∏ —á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ—Ç. –ï—Å–ª–∏ —á–µ–ª–æ–≤–µ–∫ –∏—â–µ—Ç —Å–∞–º—É –∂–∏–∑–Ω—å, –æ–Ω –Ω–∞–π–¥–µ—Ç –µ—ë —Å–º—ã—Å–ª.",
        "–ñ–∏–∑–Ω—å –Ω–µ –∑–µ–±—Ä–∞ –∏–∑ —á–µ—Ä–Ω—ã—Ö –∏ –±–µ–ª—ã—Ö –ø–æ–ª–æ—Å, –∞ —à–∞—Ö–º–∞—Ç–Ω–∞—è –¥–æ—Å–∫–∞. –ó–¥–µ—Å—å –≤—Å—ë –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–≤–æ–µ–≥–æ —Ö–æ–¥–∞.",
        "–õ—É—á—à–µ –∫—Ä–∞—Å–∏–≤–æ –¥–µ–ª–∞—Ç—å, —á–µ–º –∫—Ä–∞—Å–∏–≤–æ –≥–æ–≤–æ—Ä–∏—Ç—å.",
        "–ö—É–¥–∞ –±—ã –≤—ã –Ω–∏ —Å—Ç—Ä–µ–º–∏–ª–∏—Å—å, –Ω–∞—á–Ω–∏—Ç–µ –æ—Ç—Ç—É–¥–∞, –≥–¥–µ –≤—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å.",
        "–ö–æ–≥–¥–∞ —Ç—ã –æ–¥–∏–Ω–æ–∫, —ç—Ç–æ –Ω–µ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ —Ç—ã —Å–ª–∞–±—ã–π, —ç—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ —Ç—ã –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å–∏–ª—å–Ω—ã–π, —á—Ç–æ–±—ã –∂–¥–∞—Ç—å —Ç–æ, —á—Ç–æ —Ç—ã –∑–∞—Å–ª—É–∂–∏–≤–∞–µ—à—å.",
        "–ë—É–¥—å—Ç–µ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã –∫ —Å–≤–æ–∏–º –º—ã—Å–ª—è–º, –æ–Ω–∏ ‚Äì –Ω–∞—á–∞–ª–æ –ø–æ—Å—Ç—É–ø–∫–æ–≤.",
        "–ù–µ –≤—Å–µ–≥–¥–∞ –ø—Ä–æ—Å–∏—Ç –ø—Ä–æ—â–µ–Ω–∏—è —Ç–æ—Ç, –∫—Ç–æ –≤–∏–Ω–æ–≤–∞—Ç. –ü—Ä–æ—Å–∏—Ç –ø—Ä–æ—â–µ–Ω–∏—è —Ç–æ—Ç, –∫—Ç–æ –¥–æ—Ä–æ–∂–∏—Ç –æ—Ç–Ω–æ—à–µ–Ω–∏—è–º–∏.",
        "–î—Ä—É–∑–µ–π –≤—ã–±–∏—Ä–∞–µ–º –º—ã —Å–∞–º–∏, –Ω–æ –ª—É—á—à–∏—Ö –∏–∑ –Ω–∏—Ö –æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤—Ä–µ–º—è.",
        "–ü–æ—Ä–æ–π –∑–∞ —Å—á–∞—Å—Ç—å–µ –Ω—É–∂–Ω–æ –±–æ—Ä–æ—Ç—å—Å—è —Å —Å–∞–º–∏–º —Å–æ–±–æ–π, —Å –ª–µ–Ω—å—é, —Å –≥–æ—Ä–¥—ã–Ω–µ—é –∏ –ø—Ä–∏–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—è–º–∏.",
        "–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –ª—é–¥–µ–π –ø—Ä–æ–≤–æ–¥–∏—Ç –∂–∏–∑–Ω—å –≤ –ø–ª–µ–Ω—É, –ø–æ—Ç–æ–º—É —á—Ç–æ –∂–∏–≤—É—Ç –ª–∏—à—å –±—É–¥—É—â–∏–º –∏ –ø—Ä–æ—à–ª—ã–º ‚Äî –æ–Ω–∏ –æ—Ç—Ä–∏—Ü–∞—é—Ç –Ω–∞—Å—Ç–æ—è—â–µ–µ. –•–æ—Ç—è –Ω–∞—Å—Ç–æ—è—â–µ–µ ‚Äì —ç—Ç–æ —Ç–æ, —Å —á–µ–≥–æ –≤—Å—ë –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è.",
        "–ò—Å—Ç–∏–Ω–Ω–æ–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–µ –∫ —á–µ–ª–æ–≤–µ–∫—É –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è –∏ –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤.",
        "–õ—é–±–æ–≤—å ‚Äì —ç—Ç–æ –±–µ—Å—Ü–µ–Ω–Ω—ã–π –¥–∞—Ä. –≠—Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –≤–µ—â—å, –∫–æ—Ç–æ—Ä—É—é –º—ã –º–æ–∂–µ–º –ø–æ–¥–∞—Ä–∏—Ç—å, –∏ –≤—Å—ë –∂–µ –æ–Ω–∞ —É –Ω–∞—Å –æ—Å—Ç–∞—ë—Ç—Å—è.",
        "–ù–µ –ø–æ–ª–∞–≥–∞–π—Ç–µ—Å—å —Å–ª–∏—à–∫–æ–º —Å–∏–ª—å–Ω–æ –Ω–∞ –∫–æ–≥–æ-–Ω–∏–±—É–¥—å –≤ —ç—Ç–æ–º –º–∏—Ä–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤–∞—à–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è —Ç–µ–Ω—å –ø–æ–µ–¥–∞–µ—Ç –≤–∞—Å, –∫–æ–≥–¥–∞ –≤—ã –≤ —Ç–µ–º–Ω–æ—Ç–µ.",
        "–í —ç—Ç–æ–º –º–∏—Ä–µ –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Å–ø–æ—Å–æ–± –∑–∞—Å–ª—É–∂–∏—Ç—å –ª—é–±–æ–≤—å ‚Äì –ø–µ—Ä–µ—Å—Ç–∞—Ç—å —Ç—Ä–µ–±–æ–≤–∞—Ç—å –µ—ë –∏ –Ω–∞—á–∞—Ç—å –¥–∞—Ä–∏—Ç—å.",
        "–ì–æ–≤–æ—Ä–∏—Ç—å, –Ω–µ –¥—É–º–∞—è, –≤—Å—ë —Ä–∞–≤–Ω–æ —á—Ç–æ —Å—Ç—Ä–µ–ª—è—Ç—å, –Ω–µ —Ü–µ–ª—è—Å—å.",
        "–í—Å–µ —Ö–æ—Ç—è—Ç –∏–∑–º–µ–Ω–∏—Ç—å –º–∏—Ä, –Ω–æ –Ω–∏–∫—Ç–æ –Ω–µ —Ö–æ—á–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è —Å–∞–º.",
        "–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –ª—é–¥–µ–π –ª–æ–º–∞–µ—Ç—Å—è, –¥–∞–∂–µ –Ω–µ –ø–æ–¥–æ–∑—Ä–µ–≤–∞—è –æ —Ç–æ–º, –Ω–∞—Å–∫–æ–ª—å–∫–æ –±–ª–∏–∑–∫–∏ –∫ —É—Å–ø–µ—Ö—É –æ–Ω–∏ –±—ã–ª–∏ –≤ —Ç–æ—Ç –º–æ–º–µ–Ω—Ç, –∫–æ–≥–¥–∞ —É–ø–∞–ª–∏ –¥—É—Ö–æ–º.",
        "–°–∞–º–æ–µ –∂–µ—Å—Ç–æ–∫–æ–µ ‚Äì —ç—Ç–æ —Ä–∞—Å—Å—Ç–∞–≤–∞—Ç—å—Å—è –±–µ–∑ –æ–±—ä—è—Å–Ω–µ–Ω–∏–π, –º–æ–ª—á–∞ —É–π—Ç–∏, –æ—Å—Ç–∞–≤–∏–≤ —á–µ–ª–æ–≤–µ–∫–∞ –Ω–∞–µ–¥–∏–Ω–µ —Å —Å–æ—Ç–Ω—è–º–∏ –æ—Å—Ç—Ä—ã—Ö, –∫–∞–∫ –±—Ä–∏—Ç–≤–∞ –≤–æ–ø—Ä–æ—Å–æ–≤ –≤ –≥–æ–ª–æ–≤–µ, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ —Ç–æ–ª—å–∫–æ —Ç—ã –º–æ–∂–µ—à—å –¥–∞—Ç—å –æ—Ç–≤–µ—Ç.",
        "–ù–∞—à–∏ –≤–∑–≥–ª—è–¥—ã, –∫–∞–∫ –Ω–∞—à–∏ —á–∞—Å—ã - –≤—Å–µ –æ–Ω–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ä–∞–∑–Ω–æ–µ –≤—Ä–µ–º—è, –Ω–æ –∫–∞–∂–¥—ã–π –≤–µ—Ä–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏–º.",
        "–ß–µ–º –±–æ–ª—å—à–µ —Ç—ã —Å—Ç–∞—Ä–∞–µ—à—å—Å—è –¥–æ–±–∏—Ç—å—Å—è —á–µ–ª–æ–≤–µ–∫–∞, –∫–æ—Ç–æ—Ä—ã–π —Ç–µ–±—è –Ω–µ —Ü–µ–Ω–∏—Ç, —Ç–µ–º –±–æ–ª—å–Ω–µ–µ –¥–ª—è —Ç–µ–±—è –±—É–¥—É—Ç —É–¥–∞—Ä—ã –µ–≥–æ —Ä–∞–≤–Ω–æ–¥—É—à–∏—è.",
        "–ß—Ç–æ–±—ã –∫ —Ç–µ–±–µ –ø—Ä–∏—Å–ª—É—à–∞–ª–∏—Å—å, –∏–Ω–æ–≥–¥–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ —à–µ–ø–æ—Ç.",
        "–í—ã–±–∏—Ä–∞–π—Ç–µ —Å–µ–±–µ —Ä–∞–±–æ—Ç—É –ø–æ –¥—É—à–µ, –∏ –≤–∞–º –Ω–µ –ø—Ä–∏–¥–µ—Ç—Å—è —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∏ –æ–¥–Ω–æ–≥–æ –¥–Ω—è –≤ —Å–≤–æ–µ–π –∂–∏–∑–Ω–∏.",
        "–ö–æ–≥–¥–∞ –º–Ω–µ —Ç—è–∂–µ–ª–æ, —è –≤—Å–µ–≥–¥–∞ –Ω–∞–ø–æ–º–∏–Ω–∞—é —Å–µ–±–µ –æ —Ç–æ–º, —á—Ç–æ –µ—Å–ª–∏ —Å–¥–∞–º—Å—è, –ª—É—á—à–µ –Ω–µ —Å—Ç–∞–Ω–µ—Ç.",
        "–°–µ–≥–æ–¥–Ω—è –ª—é–¥–∏ –ø–µ—Ä–µ—Å—Ç–∞–ª–∏ –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞—Ç—å –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –∫–∞–∫ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ –ª—é–¥–µ–π. –ò—Ö –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç –≤—Å—ë —á—Ç–æ —É–≥–æ–¥–Ω–æ: –∫–∞–∫ —Ç—ã –æ–¥–µ–≤–∞–µ—à—å—Å—è, —Å–∫–æ–ª—å–∫–æ —Ç—ã –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞–µ—à—å, –Ω–∞ –∫–∞–∫–æ–π –º–∞—à–∏–Ω–µ –µ–∑–¥–∏—à—å, —Ç–æ–ª—å–∫–æ –Ω–µ —Ç—ã —Å–∞–º.",
        "–í –∂–∏–∑–Ω–∏ –Ω–µ—Ç –±–æ–ª—å—à–µ–≥–æ —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏—è, —á–µ–º —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ –æ—Ç –ø—Ä–µ–æ–¥–æ–ª–µ–Ω–∏—è —Ç—Ä—É–¥–Ω–æ—Å—Ç–µ–π –Ω–∞ –ø—É—Ç–∏ –∫ —É—Å–ø–µ—Ö—É.",
        "–ñ–∏–∑–Ω—å ‚Äì —ç—Ç–æ —Å–µ—Ä–∏—è –ø—Ä–æ–±–ª–µ–º, –∏ –≤—ã–±–æ—Ä –∑–∞ –Ω–∞–º–∏: –ª–∏–±–æ –Ω—ã—Ç—å, –ª–∏–±–æ —Ä–µ—à–∞—Ç—å –∏—Ö.",
        "–í —ç—Ç–æ–π –∂–∏–∑–Ω–∏ –Ω–µ –≤–∞–∂–Ω–æ, –∫–∞–∫ —Ç—ã –ø–∞–¥–∞–µ—à—å. –í–∞–∂–Ω–æ, –∫–∞–∫ —Ç—ã –ø–æ–¥–Ω–∏–º–µ—à—å—Å—è.",
        "–ß—Ç–æ–±—ã –ª–µ—Ç–∞—Ç—å —Å –æ—Ä–ª–∞–º–∏, –Ω–µ –ø–∞—Å–∏—Ç–µ—Å—å —Å –∏–Ω–¥—é–∫–∞–º–∏.",
        "–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–æ–ª—å–∑—É–π—Ç–µ—Å—å —Å–æ–≤–µ—Ç–∞–º–∏ –ª—é–¥–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –∂–∏–≤—É—Ç –Ω–µ —Ç–∞–∫, –∫–∞–∫ –º–µ—á—Ç–∞–µ—Ç–µ –∂–∏—Ç—å –≤—ã.",
        "–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —á–µ–ª–æ–≤–µ–∫, —Å –∫–æ—Ç–æ—Ä—ã–º —Ç—ã –¥–æ–ª–∂–µ–Ω —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —Å–µ–±—è ‚Äì —ç—Ç–æ —Ç—ã –≤ –ø—Ä–æ—à–ª–æ–º. –ò –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —á–µ–ª–æ–≤–µ–∫, –ª—É—á—à–µ –∫–æ—Ç–æ—Ä–æ–≥–æ —Ç—ã –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å ‚Äì —ç—Ç–æ —Ç—ã —Å–µ–π—á–∞—Å.",
        "–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ —Å–µ–±–µ, –∫–∞–∫–∞—è –±—ã–ª–∞ –±—ã —Ç–∏—à–∏–Ω–∞, –µ—Å–ª–∏ –±—ã –ª—é–¥–∏ –≥–æ–≤–æ—Ä–∏–ª–∏ —Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ –∑–Ω–∞—é—Ç.",
        "–†–∏—Å–∫—É–π—Ç–µ. –ï—Å–ª–∏ –≤—ã –ø–æ–±–µ–¥–∏—Ç–µ ‚Äì –±—É–¥–µ—Ç–µ —Å—á–∞—Å—Ç–ª–∏–≤—ã, –∞ –µ—Å–ª–∏ –ø—Ä–æ–∏–≥—Ä–∞–µ—Ç–µ ‚Äì –º—É–¥—Ä—ã.",
        "–í–µ—Ä–∏—Ç—å –ª—é–¥—è–º –Ω–µ —Å–ª–æ–∂–Ω–æ, —Å–ª–æ–∂–Ω–æ –ø–æ–≤–µ—Ä–∏—Ç—å –∑–∞–Ω–æ–≤–æ.",
        "–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Ä–µ—Ü–µ–ø—Ç –¥–ª—è –ª—é–±–æ–≥–æ –¥–µ–ª–∞ ‚Äì –±—ã—Ç—å –∏—Å–∫—Ä–µ–Ω–Ω–∏–º. –ö–æ–≥–¥–∞ —Ç—ã —É–≤–ª–µ—á–µ–Ω, –¥–µ–ª–∞–µ—à—å —á—Ç–æ-—Ç–æ –∏—Å–∫—Ä–µ–Ω–Ω–µ, —Ç–æ–≥–¥–∞ –≤—Å—ë –ø–æ–ª—É—á–∞–µ—Ç—Å—è.",
        "–õ—é–¥–∏ –≤—Å—é —Å–≤–æ—é –∂–∏–∑–Ω—å –ø—Ä–æ–≤–æ–¥—è—Ç –≤ –ø–æ–∏—Å–∫–∞—Ö —á–µ–≥–æ-—Ç–æ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–≥–æ, –Ω–æ –≤ –∏—Ç–æ–≥–µ –ø–æ–ª—É—á–∞—é—Ç —Ç–æ, —á—Ç–æ –∑–∞—Å–ª—É–∂–∏–≤–∞—é—Ç.",
        "–ù–∞—Å –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –æ–±–º–∞–Ω—ã–≤–∞—é—Ç ‚Äì –º—ã –æ–±–º–∞–Ω—ã–≤–∞–µ–º—Å—è —Å–∞–º–∏.",
        "–ö–∞–∂–¥–æ–º—É —á–µ–ª–æ–≤–µ–∫—É –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –Ω–µ –º–µ–Ω–µ–µ 10 –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –∏–∑–º–µ–Ω–∏—Ç—å —Å–≤–æ—é –∂–∏–∑–Ω—å.",
        "–°–∞–º—ã–µ –≤–∞–∂–Ω—ã–µ —Å–ª–æ–≤–∞ –≤ —Å–≤–æ–µ–π –∂–∏–∑–Ω–∏ –º—ã –ø—Ä–æ–∏–∑–Ω–æ—Å–∏–º –º–æ–ª—á–∞.",
        "–°–º–µ—à–æ–Ω –æ—Ä—É—â–∏–π –≤ —è—Ä–æ—Å—Ç–∏, –Ω–æ —Å—Ç—Ä–∞—à–µ–Ω –º–æ–ª—á–∞—â–∏–π –≤ –æ–±–∏–¥–µ.",
        "–û–±—â–∞—è—Å—å —Å —á–µ–ª–æ–≤–µ–∫–æ–º, –ø–æ–º–Ω–∏, —á—Ç–æ –æ–Ω –æ —Å–µ–±–µ —Ö–æ—Ä–æ—à–µ–≥–æ –º–Ω–µ–Ω–∏—è.",
        "–°–µ–≥–æ–¥–Ω—è –Ω–µ –æ–±—ã—á–Ω—ã–π –¥–µ–Ω—å, —Å–µ–≥–æ–¥–Ω—è –¥–µ–Ω—å, –≤ –∫–æ—Ç–æ—Ä–æ–º —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–∞—à–µ –±—É–¥—É—â–µ–µ.",
        "–ß–µ–º —á–∞—â–µ –≤—ã –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç–µ—Å—å –∫ —Å—Ç—Ä–∞—Ö—É –ª–∏—Ü–æ–º, —Ç–µ–º –º–µ–Ω—å—à–µ —É –Ω–µ–≥–æ –æ—Å—Ç–∞–µ—Ç—Å—è —Å–∏–ª.",
        "–ù–µ –±–æ–π—Ç–µ—Å—å –ª—é–±–∏—Ç—å! –õ—é–±–æ–≤—å –ø–æ–±–µ–∂–¥–∞–µ—Ç –∏ –±—É–¥–µ—Ç –ø–æ–±–µ–∂–¥–∞—Ç—å!",
        "–ì–ª–∞–≤–Ω–æ–µ –≤ –±–æ—Ä—å–±–µ –¥—Ä—É–≥ –∑–∞ –¥—Ä—É–≥–∞ ‚Äì –≤–µ—Ä–∏—Ç—å –¥—Ä—É–≥ –≤ –¥—Ä—É–≥–∞."
    ]
    
    // –ü–æ–ª—É—á–∞–µ—Ç —Ü–∏—Ç–∞—Ç—É –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –¥–Ω—è (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –æ—Ç –ø–µ—Ä–≤–æ–π –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π, –∑–∞—Ç–µ–º –ø–æ –∫—Ä—É–≥—É)
    static func getQuoteForToday() -> String {
        let calendar = Calendar.current
        let today = Date()
        
        // –ò—Å–ø–æ–ª—å–∑—É–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π —Å 1 —è–Ω–≤–∞—Ä—è 2020 –∫–∞–∫ –∏–Ω–¥–µ–∫—Å
        // –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫: –∫–∞–∂–¥—ã–π –¥–µ–Ω—å —Å–ª–µ–¥—É—é—â–∞—è —Ü–∏—Ç–∞—Ç–∞ –ø–æ –ø–æ—Ä—è–¥–∫—É
        // –û—Ç –ø–µ—Ä–≤–æ–π (–∏–Ω–¥–µ–∫—Å 0) –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π, –∑–∞—Ç–µ–º —Å–Ω–æ–≤–∞ —Å –ø–µ—Ä–≤–æ–π
        let startDate = calendar.date(from: DateComponents(year: 2020, month: 1, day: 1)) ?? today
        let daysSinceStart = calendar.dateComponents([.day], from: startDate, to: today).day ?? 0
        
        // –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫: –∏–Ω–¥–µ–∫—Å = –æ—Å—Ç–∞—Ç–æ–∫ –æ—Ç –¥–µ–ª–µ–Ω–∏—è –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ü–∏—Ç–∞—Ç
        // –î–µ–Ω—å 0 -> —Ü–∏—Ç–∞—Ç–∞ 0, –¥–µ–Ω—å 1 -> —Ü–∏—Ç–∞—Ç–∞ 1, ..., –¥–µ–Ω—å 79 -> —Ü–∏—Ç–∞—Ç–∞ 79, –¥–µ–Ω—å 80 -> —Ü–∏—Ç–∞—Ç–∞ 0 (—Å–Ω–æ–≤–∞)
        let index = daysSinceStart % quotes.count
        return quotes[index]
    }
}

struct WidgetDataService {
    static func loadWidgetData() -> WidgetGoalData? {
        let appGroupId = "group.com.risora.widget"
        print("üîç Widget: Attempting to load data from App Group: \(appGroupId)")
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ App Groups
        if let allGroups = UserDefaults.standard.persistentDomain(forName: "group.com.risora.widget") {
            print("üì¶ Widget: Found persistent domain with keys: \(allGroups.keys)")
        } else {
            print("‚ö†Ô∏è Widget: No persistent domain found")
        }
        
        guard let userDefaults = UserDefaults(suiteName: appGroupId) else {
            print("‚ùå Widget: CRITICAL - Cannot access App Group '\(appGroupId)'")
            print("   SOLUTION:")
            print("   1. Open Xcode")
            print("   2. Select RisoraWidget target")
            print("   3. Go to Signing & Capabilities")
            print("   4. Click + Capability ‚Üí App Groups")
            print("   5. Add: \(appGroupId)")
            print("   6. Rebuild widget")
            return nil
        }
        
        print("‚úÖ Widget: UserDefaults created with App Group")
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Å–µ –∫–ª—é—á–∏ –≤ UserDefaults
        let allKeys = userDefaults.dictionaryRepresentation().keys
        print("üìã Widget: All keys in App Group: \(Array(allKeys))")
        
        guard let data = userDefaults.data(forKey: "widgetGoalData") else {
            print("‚ö†Ô∏è Widget: No data found with key 'widgetGoalData'")
            print("   Available keys: \(Array(allKeys))")
            print("   App saved data but widget cannot read it - App Group may not be shared")
            return nil
        }
        
        print("‚úÖ Widget: Found data, size: \(data.count) bytes")
        
        guard let widgetData = try? JSONDecoder().decode(WidgetGoalData.self, from: data) else {
            print("‚ùå Widget: Failed to decode widget data")
            return nil
        }
        
        print("‚úÖ Widget: Successfully loaded data - \(widgetData.title)")
        return widgetData
    }
}

struct GoalWidgetEntry: TimelineEntry {
    let date: Date
    let goalTitle: String
    let goalMotivation: String
    let habitNames: [String]
    let quote: String
}

struct GoalWidgetProvider: TimelineProvider {
    func placeholder(in context: Context) -> GoalWidgetEntry {
        GoalWidgetEntry(
            date: Date(),
            goalTitle: "–ü—Ä–∏–º–µ—Ä —Ü–µ–ª–∏",
            goalMotivation: "–ü–æ–º–Ω–∏ –∑–∞—á–µ–º —Ç—ã —ç—Ç–æ –¥–µ–ª–∞–µ—à—å",
            habitNames: ["–ü—Ä–∏–≤—ã—á–∫–∞ 1", "–ü—Ä–∏–≤—ã—á–∫–∞ 2"],
            quote: WidgetQuotes.getQuoteForToday()
        )
    }

    func getSnapshot(in context: Context, completion: @escaping (GoalWidgetEntry) -> Void) {
        completion(loadGoalEntry())
    }

    func getTimeline(in context: Context, completion: @escaping (Timeline<GoalWidgetEntry>) -> Void) {
        let entry = loadGoalEntry()

        // –°–æ–∑–¥–∞–µ–º timeline —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏:
        // - –¶–∏—Ç–∞—Ç–∞ –º–µ–Ω—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å
        // - –¶–µ–ª—å –º–µ–Ω—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 3 –¥–Ω—è
        let calendar = Calendar.current
        let today = Date()
        
        // –°–ª–µ–¥—É—é—â–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ - –∑–∞–≤—Ç—Ä–∞ (–¥–ª—è —Ü–∏—Ç–∞—Ç—ã) –∏–ª–∏ —á–µ—Ä–µ–∑ 3 –¥–Ω—è (–¥–ª—è —Ü–µ–ª–∏)
        // –ë–µ—Ä–µ–º –º–∏–Ω–∏–º—É–º - –æ–±–Ω–æ–≤–ª—è–µ–º –∫–∞–∂–¥—ã–π –¥–µ–Ω—å
        let tomorrow = calendar.date(byAdding: .day, value: 1, to: today) ?? today
        let nextUpdate = calendar.startOfDay(for: tomorrow)
        
        completion(Timeline(entries: [entry], policy: .after(nextUpdate)))
    }

    private func loadGoalEntry() -> GoalWidgetEntry {
        let quote = WidgetQuotes.getQuoteForToday()
        
        // –ü—ã—Ç–∞–µ–º—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ App Group
        if let widgetData = WidgetDataService.loadWidgetData() {
            print("‚úÖ Widget loaded data: \(widgetData.title)")
            return GoalWidgetEntry(
                date: Date(),
                goalTitle: widgetData.title,
                goalMotivation: widgetData.motivation,
                habitNames: widgetData.habitNames,
                quote: quote
            )
        }
        
        // –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
        print("‚ö†Ô∏è Widget: No data found in App Group")
        print("   App Group: group.com.risora.widget")
        print("   Make sure:")
        print("   1. App Group is configured in both app and widget targets")
        print("   2. App has saved data (open Goals tab in app)")
        
        return GoalWidgetEntry(
            date: Date(),
            goalTitle: "–°–æ–∑–¥–∞–π—Ç–µ —Ü–µ–ª—å",
            goalMotivation: "–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –¥–æ–±–∞–≤—å—Ç–µ —Ü–µ–ª–∏",
            habitNames: [],
            quote: quote
        )
    }
}

struct RisoraWidgetEntryView: View {
    var entry: GoalWidgetProvider.Entry
    
    var body: some View {
        VStack(alignment: .leading, spacing: 6) {
            // –¶–∏—Ç–∞—Ç–∞ –¥–Ω—è —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–∫—Ä—É—Ç–∫–æ–π (–±–µ–≥—É—â–∞—è —Å—Ç—Ä–æ–∫–∞)
            ScrollableQuoteView(text: entry.quote)
                .frame(height: 36)
                .padding(.bottom, 4)
            
            Divider()
                .padding(.vertical, 2)
            
            // –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ü–µ–ª–∏
            Text(entry.goalTitle)
                .font(.headline)
                .fontWeight(.bold)
                .foregroundColor(.primary)
                .lineLimit(1)
                .multilineTextAlignment(.leading)
            
            // –ú–æ—Ç–∏–≤–∞—Ü–∏—è
            Text(entry.goalMotivation)
                .font(.caption)
                .foregroundColor(.secondary)
                .lineLimit(2)
                .multilineTextAlignment(.leading)
            
            Spacer(minLength: 2)
            
            // –°–ø–∏—Å–æ–∫ –ø—Ä–∏–≤—ã—á–µ–∫ (–∫–æ–º–ø–∞–∫—Ç–Ω–æ)
            if !entry.habitNames.isEmpty {
                HStack(spacing: 4) {
                    Image(systemName: "checkmark.circle.fill")
                        .font(.system(size: 7))
                        .foregroundColor(.blue)
                    Text(entry.habitNames.prefix(2).joined(separator: ", "))
                        .font(.caption2)
                        .foregroundColor(.secondary)
                        .lineLimit(1)
                    if entry.habitNames.count > 2 {
                        Text("+\(entry.habitNames.count - 2)")
                            .font(.caption2)
                            .foregroundColor(.secondary)
                    }
                }
            }
        }
        .padding(10)
        .frame(maxWidth: .infinity, maxHeight: .infinity, alignment: .topLeading)
        .containerBackground(.fill.tertiary, for: .widget)
    }
}

// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –ø—Ä–æ–∫—Ä—É—á–∏–≤–∞—é—â–µ–π—Å—è —Ü–∏—Ç–∞—Ç—ã (–±–µ–≥—É—â–∞—è —Å—Ç—Ä–æ–∫–∞)
struct ScrollableQuoteView: View {
    let text: String
    @State private var offset: CGFloat = 0
    @State private var textWidth: CGFloat = 0
    @State private var containerWidth: CGFloat = 0
    
    var body: some View {
        GeometryReader { geometry in
            ZStack(alignment: .leading) {
                // –ù–µ–≤–∏–¥–∏–º—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è —à–∏—Ä–∏–Ω—ã
                Text(text)
                    .font(.caption)
                    .fontWeight(.medium)
                    .foregroundColor(.clear)
                    .background(
                        GeometryReader { textGeo in
                            Color.clear
                                .onAppear {
                                    textWidth = textGeo.size.width
                                    containerWidth = geometry.size.width
                                    
                                    // –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –¥–ª–∏–Ω–Ω–µ–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –∑–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é
                                    if textWidth > containerWidth {
                                        let extraWidth = textWidth - containerWidth + 40 // 40px –æ—Ç—Å—Ç—É–ø
                                        let duration = max(8.0, Double(extraWidth) / 25.0) // –°–∫–æ—Ä–æ—Å—Ç—å: 25px/—Å–µ–∫
                                        
                                        // –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –∞–Ω–∏–º–∞—Ü–∏–∏
                                        DispatchQueue.main.asyncAfter(deadline: .now() + 2.0) {
                                            withAnimation(.linear(duration: duration).repeatForever(autoreverses: true)) {
                                                offset = -extraWidth
                                            }
                                        }
                                    }
                                }
                        }
                    )
                
                // –í–∏–¥–∏–º—ã–π —Ç–µ–∫—Å—Ç —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
                Text(text)
                    .font(.caption)
                    .fontWeight(.medium)
                    .foregroundColor(.primary)
                    .italic()
                    .offset(x: offset)
            }
            .clipped()
        }
    }
}

struct RisoraWidget: Widget {
    let kind: String = "RisoraWidget"

    var body: some WidgetConfiguration {
        StaticConfiguration(kind: kind, provider: GoalWidgetProvider()) { entry in
            RisoraWidgetEntryView(entry: entry)
        }
        .configurationDisplayName("–¶–µ–ª—å")
        .description("–í–∞—à–∞ —Ü–µ–ª—å, –ø—Ä–∏–≤—ã—á–∫–∏ –∏ –º–æ—Ç–∏–≤–∏—Ä—É—é—â–∞—è —Ü–∏—Ç–∞—Ç–∞. –¶–∏—Ç–∞—Ç–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å, —Ü–µ–ª—å - –∫–∞–∂–¥—ã–µ 3 –¥–Ω—è.")
        .supportedFamilies([.systemSmall, .systemMedium])
    }
}
